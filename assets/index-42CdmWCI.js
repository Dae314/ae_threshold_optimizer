var zt=Object.defineProperty;var Ut=(t,e,l)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var mt=(t,e,l)=>(Ut(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=l(r);fetch(r.href,s)}})();function J(){}function Nt(t){return t()}function At(){return Object.create(null)}function tt(t){t.forEach(Nt)}function Tt(t){return typeof t=="function"}function Ft(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ht(t){return Object.keys(t).length===0}function n(t,e){t.appendChild(e)}function H(t,e,l){t.insertBefore(e,l||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function b(){return L(" ")}function S(t,e,l,a){return t.addEventListener(e,l,a),()=>t.removeEventListener(e,l,a)}function o(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Dt(t){return t===""?null:+t}function Vt(t){return Array.from(t.childNodes)}function ht(t,e){e=""+e,t.data!==e&&(t.data=e)}function it(t,e){t.value=e??""}function E(t,e,l){t.classList.toggle(e,!!l)}let x;function Z(t){x=t}function qt(){if(!x)throw new Error("Function called outside component initialization");return x}function Kt(t){qt().$$.on_mount.push(t)}const Y=[],Bt=[];let G=[];const It=[],Rt=Promise.resolve();let _t=!1;function Pt(){_t||(_t=!0,Rt.then(jt))}function Wt(){return Pt(),Rt}function gt(t){G.push(t)}const pt=new Set;let W=0;function jt(){if(W!==0)return;const t=x;do{try{for(;W<Y.length;){const e=Y[W];W++,Z(e),Yt(e.$$)}}catch(e){throw Y.length=0,W=0,e}for(Z(null),Y.length=0,W=0;Bt.length;)Bt.pop()();for(let e=0;e<G.length;e+=1){const l=G[e];pt.has(l)||(pt.add(l),l())}G.length=0}while(Y.length);for(;It.length;)It.pop()();_t=!1,pt.clear(),Z(t)}function Yt(t){if(t.fragment!==null){t.update(),tt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(gt)}}function Gt(t){const e=[],l=[];G.forEach(a=>t.indexOf(a)===-1?e.push(a):l.push(a)),l.forEach(a=>a()),G=e}const Jt=new Set;function Qt(t,e){t&&t.i&&(Jt.delete(t),t.i(e))}function Xt(t,e,l){const{fragment:a,after_update:r}=t.$$;a&&a.m(e,l),gt(()=>{const s=t.$$.on_mount.map(Nt).filter(Tt);t.$$.on_destroy?t.$$.on_destroy.push(...s):tt(s),t.$$.on_mount=[]}),r.forEach(gt)}function Zt(t,e){const l=t.$$;l.fragment!==null&&(Gt(l.after_update),tt(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function xt(t,e){t.$$.dirty[0]===-1&&(Y.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,l,a,r,s,m=null,f=[-1]){const w=x;Z(t);const i=t.$$={fragment:null,ctx:[],props:s,update:J,not_equal:r,bound:At(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(w?w.$$.context:[])),callbacks:At(),dirty:f,skip_bound:!1,root:e.target||w.$$.root};m&&m(i.root);let P=!1;if(i.ctx=l?l(t,e.props||{},(h,C,...$)=>{const M=$.length?$[0]:C;return i.ctx&&r(i.ctx[h],i.ctx[h]=M)&&(!i.skip_bound&&i.bound[h]&&i.bound[h](M),P&&xt(t,h)),C}):[],i.update(),P=!0,tt(i.before_update),i.fragment=a?a(i.ctx):!1,e.target){if(e.hydrate){const h=Vt(e.target);i.fragment&&i.fragment.l(h),h.forEach(D)}else i.fragment&&i.fragment.c();e.intro&&Qt(t.$$.fragment),Xt(t,e.target,e.anchor),jt()}Z(w)}class ee{constructor(){mt(this,"$$");mt(this,"$$set")}$destroy(){Zt(this,1),this.$destroy=J}$on(e,l){if(!Tt(l))return J;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(l),()=>{const r=a.indexOf(l);r!==-1&&a.splice(r,1)}}$set(e){this.$$set&&!Ht(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const le="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(le);function ne(t){let e,l,a,r,s=t[2].toLocaleString("en-US")+"",m;return{c(){e=u("p"),l=L("Retry if damage is less than:"),a=u("br"),r=b(),m=L(s),o(e,"class","svelte-38llml")},m(f,w){H(f,e,w),n(e,l),n(e,a),n(e,r),n(e,m)},p(f,w){w&4&&s!==(s=f[2].toLocaleString("en-US")+"")&&ht(m,s)},d(f){f&&D(e)}}}function se(t){let e;return{c(){e=u("p"),e.textContent="Retry not recommended.",o(e,"class","alert svelte-38llml")},m(l,a){H(l,e,a)},p:J,d(l){l&&D(e)}}}function oe(t){let e,l,a,r,s,m,f,w,i,P,h,C,$,M,j,k,et,Q,lt,nt,A,st,I,N,d,v,_,g,V,B,z,y,T,bt,yt,q,ut,vt,wt,K,U,kt,ot,$t,F,Ct,at,ft,X,dt,St;function Et(c,p){return c[2]===0?se:ne}let rt=Et(t),O=rt(t);return{c(){e=b(),l=u("nav"),a=u("button"),a.textContent="A Comp",r=b(),s=u("button"),s.textContent="B Comp",m=b(),f=u("button"),f.textContent="C Comp",w=b(),i=u("button"),i.textContent="D Comp",P=b(),h=u("button"),h.textContent="E Comp",C=b(),$=u("main"),M=u("div"),j=u("section"),k=u("label"),et=L("Damage Samples (recommend at least "),Q=L(t[5]),lt=L(" more):"),nt=b(),A=u("textarea"),st=b(),I=u("div"),N=u("section"),d=u("div"),v=u("label"),v.textContent="Remaining Stamina:",_=b(),g=u("input"),V=b(),B=u("button"),B.textContent="Refresh",z=b(),y=u("section"),O.c(),T=b(),bt=u("br"),yt=b(),q=u("p"),ut=L(t[4]),vt=L(" retries remaining before you lose an attack"),wt=b(),K=u("section"),U=u("button"),kt=L("Take Damage"),$t=b(),F=u("button"),Ct=L("Retry"),ft=b(),X=u("footer"),X.innerHTML='<h5 class="svelte-38llml">How it works:</h5> <p class="svelte-38llml">The app takes your team&#39;s test performance and calculates an expected value for your damage across multiple potential thresholds. The threshold that provides the highest expected damage value is shown to you.</p> <h5 class="svelte-38llml">Why does it recommend a threshold when I might lose an attack?</h5> <p class="svelte-38llml">At high stamina, the app is accounting for the fact that you can make up for losing an attack with better damage performance on the attacks that you take. You&#39;ll notice that the thresholds don&#39;t seem to match up with your number of retries before losing an attack at high stamina, but as your stamina falls below 200, the thresholds will start to match the number of retries you have left.</p> <h5 class="svelte-38llml">Do I need to do follow the threshold exactly?</h5> <p class="svelte-38llml">No, it&#39;s your game, you do what you want. This app uses statistics that will optimze for population performance. That leaves some room for you optimize your individual performance if you see fit.</p>',document.title="AE Threshold Optimizer",o(a,"type","button"),o(a,"class","navButton svelte-38llml"),E(a,"selected",t[3]==="A"),o(s,"type","button"),o(s,"class","navButton svelte-38llml"),E(s,"selected",t[3]==="B"),o(f,"type","button"),o(f,"class","navButton svelte-38llml"),E(f,"selected",t[3]==="C"),o(i,"type","button"),o(i,"class","navButton svelte-38llml"),E(i,"selected",t[3]==="D"),o(h,"type","button"),o(h,"class","navButton svelte-38llml"),E(h,"selected",t[3]==="E"),o(l,"class","svelte-38llml"),o(k,"for","sample-input"),o(k,"class","svelte-38llml"),o(A,"id","sample-input"),o(A,"name","sample-input"),o(A,"class","svelte-38llml"),o(j,"class","svelte-38llml"),o(M,"class","col"),o(v,"for","stamina-input"),o(v,"class","svelte-38llml"),o(g,"id","stamina-input"),o(g,"name","stamina-input"),o(g,"type","number"),o(g,"class","svelte-38llml"),o(d,"id","stamInputArea"),o(d,"class","svelte-38llml"),o(B,"type","button"),o(B,"class","svelte-38llml"),o(N,"id","stamSect"),o(N,"class","svelte-38llml"),o(q,"class","svelte-38llml"),E(q,"alert",t[4]===0),o(y,"class","svelte-38llml"),o(U,"class","updateButton svelte-38llml"),o(U,"type","button"),U.disabled=ot=t[0]<R,o(F,"class","updateButton svelte-38llml"),o(F,"type","button"),F.disabled=at=t[0]<R,o(K,"id","buttonSect"),o(K,"class","svelte-38llml"),o(I,"class","col"),o($,"class","svelte-38llml"),o(X,"class","svelte-38llml")},m(c,p){H(c,e,p),H(c,l,p),n(l,a),n(l,r),n(l,s),n(l,m),n(l,f),n(l,w),n(l,i),n(l,P),n(l,h),H(c,C,p),H(c,$,p),n($,M),n(M,j),n(j,k),n(k,et),n(k,Q),n(k,lt),n(j,nt),n(j,A),it(A,t[1]),n($,st),n($,I),n(I,N),n(N,d),n(d,v),n(d,_),n(d,g),it(g,t[0]),n(N,V),n(N,B),n(I,z),n(I,y),O.m(y,null),n(y,T),n(y,bt),n(y,yt),n(y,q),n(q,ut),n(q,vt),n(I,wt),n(I,K),n(K,U),n(U,kt),n(K,$t),n(K,F),n(F,Ct),H(c,ft,p),H(c,X,p),dt||(St=[S(a,"click",t[11]),S(s,"click",t[12]),S(f,"click",t[13]),S(i,"click",t[14]),S(h,"click",t[15]),S(A,"input",t[16]),S(A,"blur",t[6]),S(g,"input",t[17]),S(g,"input",t[6]),S(B,"click",t[6]),S(U,"click",t[7]),S(F,"click",t[8])],dt=!0)},p(c,[p]){p&8&&E(a,"selected",c[3]==="A"),p&8&&E(s,"selected",c[3]==="B"),p&8&&E(f,"selected",c[3]==="C"),p&8&&E(i,"selected",c[3]==="D"),p&8&&E(h,"selected",c[3]==="E"),p&32&&ht(Q,c[5]),p&2&&it(A,c[1]),p&1&&Dt(g.value)!==c[0]&&it(g,c[0]),rt===(rt=Et(c))&&O?O.p(c,p):(O.d(1),O=rt(c),O&&(O.c(),O.m(y,T))),p&16&&ht(ut,c[4]),p&16&&E(q,"alert",c[4]===0),p&1&&ot!==(ot=c[0]<R)&&(U.disabled=ot),p&1&&at!==(at=c[0]<R)&&(F.disabled=at)},i:J,o:J,d(c){c&&(D(e),D(l),D(C),D($),D(ft),D(X)),O.d(),dt=!1,tt(St)}}}const R=48,ct=4,Ot=30,Lt=`1e9
2e9
3e9
4e9
5e9`,Mt=1e3,ae=/^\s*$(?:\r\n?|\n)/gm;function re(t,e,l){let a,r,s=Mt,m=Lt,f,w=0,i="A";const P=window.localStorage.getItem(i),h=window.localStorage.getItem(`${i}_stam`);P&&(m=P),h&&(s=Number(h)),Kt(()=>{C()});function C(){const d=Math.min(...f),v=Math.max(...f);let _;d>=1e12?_=1e10:d>=1e9?_=1e7:d>=1e6?_=1e4:d>=1e3?_=10:_=1;const g=Math.round(d/_)*_,V=Math.round(v/_)*_,B=(V-g)/20;let z=[];z.push($(0));for(let T=g;T<=V;T+=B)z.push($(T));const y=z.indexOf(Math.max(...z));l(2,w=y===0?0:g+(y-1)*B),et()}function $(d){const v=f.filter(y=>y>d);if(v.length===0)return 0;const _=v.length/f.length,g=v.reduce((y,T)=>y+T)/v.length,V=_*R+(1-_)*ct,B=Math.floor(s/V);return Math.floor(_*B)*g}function M(){s>=R&&(l(0,s-=R),C())}function j(){s>=ct&&(l(0,s-=ct),C())}async function k(d){l(3,i=d);const v=window.localStorage.getItem(d),_=window.localStorage.getItem(`${d}_stam`);l(1,m=v||Lt),l(0,s=_?Number(_):Mt),await Wt(),C()}function et(){window.localStorage.setItem(i,m),window.localStorage.setItem(`${i}_stam`,`${s}`)}const Q=()=>k("A"),lt=()=>k("B"),nt=()=>k("C"),A=()=>k("D"),st=()=>k("E");function I(){m=this.value,l(1,m)}function N(){s=Dt(this.value),l(0,s)}return t.$$.update=()=>{t.$$.dirty&2&&l(10,f=m.replace(ae,"").split(`
`).filter(d=>d).map(d=>Number(d))),t.$$.dirty&1024&&l(5,a=f.length<=Ot?Ot-f.length:0),t.$$.dirty&1&&l(4,r=s<R?0:Math.floor(s%R/ct))},[s,m,w,i,r,a,C,M,j,k,f,Q,lt,nt,A,st,I,N]}class ie extends ee{constructor(e){super(),te(this,e,re,oe,Ft,{})}}new ie({target:document.getElementById("app")});
