(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();function J(){}function Le(e){return e()}function Ee(){return Object.create(null)}function ee(e){e.forEach(Le)}function Ne(e){return typeof e=="function"}function je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ze(e){return Object.keys(e).length===0}const qe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;"WeakMap"in qe;function n(e,t){e.appendChild(t)}function F(e,t,l){e.insertBefore(t,l||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function g(){return I(" ")}function $(e,t,l,a){return e.addEventListener(t,l,a),()=>e.removeEventListener(t,l,a)}function s(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Te(e){return e===""?null:+e}function We(e){return Array.from(e.childNodes)}function pe(e,t){t=""+t,e.data!==t&&(e.data=t)}function ie(e,t){e.value=t??""}function E(e,t,l){e.classList[l?"add":"remove"](t)}let x;function Z(e){x=e}function Fe(){if(!x)throw new Error("Function called outside component initialization");return x}function He(e){Fe().$$.on_mount.push(e)}const Y=[],Ae=[];let G=[];const Me=[],De=Promise.resolve();let he=!1;function Re(){he||(he=!0,De.then(Pe))}function Ue(){return Re(),De}function _e(e){G.push(e)}const me=new Set;let V=0;function Pe(){if(V!==0)return;const e=x;do{try{for(;V<Y.length;){const t=Y[V];V++,Z(t),Ke(t.$$)}}catch(t){throw Y.length=0,V=0,t}for(Z(null),Y.length=0,V=0;Ae.length;)Ae.pop()();for(let t=0;t<G.length;t+=1){const l=G[t];me.has(l)||(me.add(l),l())}G.length=0}while(Y.length);for(;Me.length;)Me.pop()();he=!1,me.clear(),Z(e)}function Ke(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function Ve(e){const t=[],l=[];G.forEach(a=>e.indexOf(a)===-1?t.push(a):l.push(a)),l.forEach(a=>a()),G=t}const Ye=new Set;function Ge(e,t){e&&e.i&&(Ye.delete(e),e.i(t))}const Je=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...Je];function Qe(e,t,l,a){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,l),a||_e(()=>{const d=e.$$.on_mount.map(Le).filter(Ne);e.$$.on_destroy?e.$$.on_destroy.push(...d):ee(d),e.$$.on_mount=[]}),o.forEach(_e)}function Xe(e,t){const l=e.$$;l.fragment!==null&&(Ve(l.after_update),ee(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Ze(e,t){e.$$.dirty[0]===-1&&(Y.push(e),Re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,l,a,r,o,d,f=[-1]){const w=x;Z(e);const i=e.$$={fragment:null,ctx:[],props:o,update:J,not_equal:r,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(w?w.$$.context:[])),callbacks:Ee(),dirty:f,skip_bound:!1,root:t.target||w.$$.root};d&&d(i.root);let P=!1;if(i.ctx=l?l(e,t.props||{},(h,S,...C)=>{const L=C.length?C[0]:S;return i.ctx&&r(i.ctx[h],i.ctx[h]=L)&&(!i.skip_bound&&i.bound[h]&&i.bound[h](L),P&&Ze(e,h)),S}):[],i.update(),P=!0,ee(i.before_update),i.fragment=a?a(i.ctx):!1,t.target){if(t.hydrate){const h=We(t.target);i.fragment&&i.fragment.l(h),h.forEach(D)}else i.fragment&&i.fragment.c();t.intro&&Ge(e.$$.fragment),Qe(e,t.target,t.anchor,t.customElement),Pe()}Z(w)}class et{$destroy(){Xe(this,1),this.$destroy=J}$on(t,l){if(!Ne(l))return J;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(l),()=>{const r=a.indexOf(l);r!==-1&&a.splice(r,1)}}$set(t){this.$$set&&!ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tt(e){let t,l,a,r,o=e[2].toLocaleString("en-US")+"",d;return{c(){t=u("p"),l=I("Retry if damage is less than:"),a=u("br"),r=g(),d=I(o),s(t,"class","svelte-38llml")},m(f,w){F(f,t,w),n(t,l),n(t,a),n(t,r),n(t,d)},p(f,w){w&4&&o!==(o=f[2].toLocaleString("en-US")+"")&&pe(d,o)},d(f){f&&D(t)}}}function lt(e){let t;return{c(){t=u("p"),t.textContent="Retry not recommended.",s(t,"class","alert svelte-38llml")},m(l,a){F(l,t,a)},p:J,d(l){l&&D(t)}}}function nt(e){let t,l,a,r,o,d,f,w,i,P,h,S,C,L,j,k,te,Q,le,ne,A,oe,B,N,m,v,_,b,H,M,z,y,T,be,ge,U,ue,ye,ve,K,q,we,se,ke,W,Ce,ae,fe,X,de,Se;function $e(c,p){return c[2]===0?lt:tt}let re=$e(e),O=re(e);return{c(){t=g(),l=u("nav"),a=u("button"),a.textContent="A Comp",r=g(),o=u("button"),o.textContent="B Comp",d=g(),f=u("button"),f.textContent="C Comp",w=g(),i=u("button"),i.textContent="D Comp",P=g(),h=u("button"),h.textContent="E Comp",S=g(),C=u("main"),L=u("div"),j=u("section"),k=u("label"),te=I("Damage Samples (recommend at least "),Q=I(e[5]),le=I(" more):"),ne=g(),A=u("textarea"),oe=g(),B=u("div"),N=u("section"),m=u("div"),v=u("label"),v.textContent="Remaining Stamina:",_=g(),b=u("input"),H=g(),M=u("button"),M.textContent="Refresh",z=g(),y=u("section"),O.c(),T=g(),be=u("br"),ge=g(),U=u("p"),ue=I(e[4]),ye=I(" retries remaining before you lose an attack"),ve=g(),K=u("section"),q=u("button"),we=I("Take Damage"),ke=g(),W=u("button"),Ce=I("Retry"),fe=g(),X=u("footer"),X.innerHTML=`<h5 class="svelte-38llml">How it works:</h5> 
	<p class="svelte-38llml">The app takes your team&#39;s test performance and calculates an expected value for your damage across multiple potential thresholds. The threshold that provides the highest expected damage value is shown to you.</p> 
	<h5 class="svelte-38llml">Why does it recommend a threshold when I might lose an attack?</h5> 
	<p class="svelte-38llml">At high stamina, the app is accounting for the fact that you can make up for losing an attack with better damage performance on the attacks that you take. You&#39;ll notice that the thresholds don&#39;t seem to match up with your number of retries before losing an attack at high stamina, but as your stamina falls below 200, the thresholds will start to match the number of retries you have left.</p> 
	<h5 class="svelte-38llml">Do I need to do follow the threshold exactly?</h5> 
	<p class="svelte-38llml">No, it&#39;s your game, you do what you want. This app uses statistics that will optimze for population performance. That leaves some room for you optimize your individual performance if you see fit.</p>`,document.title="AE Threshold Optimizer",s(a,"type","button"),s(a,"class","navButton svelte-38llml"),E(a,"selected",e[3]==="A"),s(o,"type","button"),s(o,"class","navButton svelte-38llml"),E(o,"selected",e[3]==="B"),s(f,"type","button"),s(f,"class","navButton svelte-38llml"),E(f,"selected",e[3]==="C"),s(i,"type","button"),s(i,"class","navButton svelte-38llml"),E(i,"selected",e[3]==="D"),s(h,"type","button"),s(h,"class","navButton svelte-38llml"),E(h,"selected",e[3]==="E"),s(l,"class","svelte-38llml"),s(k,"for","sample-input"),s(k,"class","svelte-38llml"),s(A,"id","sample-input"),s(A,"name","sample-input"),s(A,"class","svelte-38llml"),s(j,"class","svelte-38llml"),s(L,"class","col"),s(v,"for","stamina-input"),s(v,"class","svelte-38llml"),s(b,"id","stamina-input"),s(b,"name","stamina-input"),s(b,"type","number"),s(b,"class","svelte-38llml"),s(m,"id","stamInputArea"),s(m,"class","svelte-38llml"),s(M,"type","button"),s(M,"class","svelte-38llml"),s(N,"id","stamSect"),s(N,"class","svelte-38llml"),s(U,"class","svelte-38llml"),E(U,"alert",e[4]===0),s(y,"class","svelte-38llml"),s(q,"class","updateButton svelte-38llml"),s(q,"type","button"),q.disabled=se=e[0]<R,s(W,"class","updateButton svelte-38llml"),s(W,"type","button"),W.disabled=ae=e[0]<R,s(K,"id","buttonSect"),s(K,"class","svelte-38llml"),s(B,"class","col"),s(C,"class","svelte-38llml"),s(X,"class","svelte-38llml")},m(c,p){F(c,t,p),F(c,l,p),n(l,a),n(l,r),n(l,o),n(l,d),n(l,f),n(l,w),n(l,i),n(l,P),n(l,h),F(c,S,p),F(c,C,p),n(C,L),n(L,j),n(j,k),n(k,te),n(k,Q),n(k,le),n(j,ne),n(j,A),ie(A,e[1]),n(C,oe),n(C,B),n(B,N),n(N,m),n(m,v),n(m,_),n(m,b),ie(b,e[0]),n(N,H),n(N,M),n(B,z),n(B,y),O.m(y,null),n(y,T),n(y,be),n(y,ge),n(y,U),n(U,ue),n(U,ye),n(B,ve),n(B,K),n(K,q),n(q,we),n(K,ke),n(K,W),n(W,Ce),F(c,fe,p),F(c,X,p),de||(Se=[$(a,"click",e[11]),$(o,"click",e[12]),$(f,"click",e[13]),$(i,"click",e[14]),$(h,"click",e[15]),$(A,"input",e[16]),$(A,"blur",e[6]),$(b,"input",e[17]),$(b,"input",e[6]),$(M,"click",e[6]),$(q,"click",e[7]),$(W,"click",e[8])],de=!0)},p(c,[p]){p&8&&E(a,"selected",c[3]==="A"),p&8&&E(o,"selected",c[3]==="B"),p&8&&E(f,"selected",c[3]==="C"),p&8&&E(i,"selected",c[3]==="D"),p&8&&E(h,"selected",c[3]==="E"),p&32&&pe(Q,c[5]),p&2&&ie(A,c[1]),p&1&&Te(b.value)!==c[0]&&ie(b,c[0]),re===(re=$e(c))&&O?O.p(c,p):(O.d(1),O=re(c),O&&(O.c(),O.m(y,T))),p&16&&pe(ue,c[4]),p&16&&E(U,"alert",c[4]===0),p&1&&se!==(se=c[0]<R)&&(q.disabled=se),p&1&&ae!==(ae=c[0]<R)&&(W.disabled=ae)},i:J,o:J,d(c){c&&D(t),c&&D(l),c&&D(S),c&&D(C),O.d(),c&&D(fe),c&&D(X),de=!1,ee(Se)}}}const R=48,ce=4,Be=30,Oe=`1e9
2e9
3e9
4e9
5e9`,Ie=1e3,ot=/^\s*$(?:\r\n?|\n)/gm;function st(e,t,l){let a,r,o=Ie,d=Oe,f,w=0,i="A";const P=window.localStorage.getItem(i),h=window.localStorage.getItem(`${i}_stam`);P&&(d=P),h&&(o=Number(h)),He(()=>{S()});function S(){const m=Math.min(...f),v=Math.max(...f);let _;m>=1e12?_=1e10:m>=1e9?_=1e7:m>=1e6?_=1e4:m>=1e3?_=10:_=1;const b=Math.round(m/_)*_,H=Math.round(v/_)*_,M=(H-b)/20;let z=[];z.push(C(0));for(let T=b;T<=H;T+=M)z.push(C(T));const y=z.indexOf(Math.max(...z));l(2,w=y===0?0:b+(y-1)*M),te()}function C(m){const v=f.filter(y=>y>m);if(v.length===0)return 0;const _=v.length/f.length,b=v.reduce((y,T)=>y+T)/v.length,H=_*R+(1-_)*ce,M=Math.floor(o/H);return Math.floor(_*M)*b}function L(){o>=R&&(l(0,o-=R),S())}function j(){o>=ce&&(l(0,o-=ce),S())}async function k(m){l(3,i=m);const v=window.localStorage.getItem(m),_=window.localStorage.getItem(`${m}_stam`);l(1,d=v||Oe),l(0,o=_?Number(_):Ie),await Ue(),S()}function te(){window.localStorage.setItem(i,d),window.localStorage.setItem(`${i}_stam`,`${o}`)}const Q=()=>k("A"),le=()=>k("B"),ne=()=>k("C"),A=()=>k("D"),oe=()=>k("E");function B(){d=this.value,l(1,d)}function N(){o=Te(this.value),l(0,o)}return e.$$.update=()=>{e.$$.dirty&2&&l(10,f=d.replace(ot,"").split(`
`).filter(m=>m).map(m=>Number(m))),e.$$.dirty&1024&&l(5,a=f.length<=Be?Be-f.length:0),e.$$.dirty&1&&l(4,r=o<R?0:Math.floor(o%R/ce))},[o,d,w,i,r,a,S,L,j,k,f,Q,le,ne,A,oe,B,N]}class at extends et{constructor(t){super(),xe(this,t,st,nt,je,{})}}new at({target:document.getElementById("app")});
